// test: should-run
// returns: 0
// outputs: none

fn matches(str: [char], substr: [char], start: isize) -> bool {
    for i := 0 to substr.size {
        if str[start + i] != substr[i] {
            return false 
        }
    }

    true
}

fn find(str: [char], substr: [char]) -> isize {
    for i := 0 to str.size {
        if (i + substr.size - 1) >= str.size {
            break
        } 

        if matches(str, substr, i) {
            return i 
        }
    }

    -1 as isize
}

fn main() -> i32 {
    assert find("Hello", "ello") == 1
    assert find("", "Hello") == -1 as isize
    assert find("Hello", "") == 0
    assert find("abcccccdef", "cccdef") == 4

    0
}